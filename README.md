# Diary App
この日記アプリはユーザーが日記エントリーを作成、表示、削除できるシンプルなウェブアプリケーションです。
Reactをフロントエンドフレームワークとして使用し、Node.jsとExpressを用いてバックエンドAPIを構築しています。

## できること

- 日記エントリーの作成
- 日記エントリーの表示
- 日記エントリーの削除

## 使用技術

- フロントエンド: React, Vite
- バックエンド: Node.js, Express
- データベース: PostgreSQL
- スタイル: CSS


## 環境構築

このアプリをローカル環境で実行したい場合は以下の手順を実行してください。

### 1. 必要なソフトウェアのインストール

Node.js,npm,PostgreSQLを使用できるようインストールしてください。

### 2. リポジトリのクローン

クローン先のディレクトリの作成は各自で実施してください。
その後、作成したディレクトリ配下で下記を実行してください。
```
git clone https://github.com/maho-tkd/cc-fullstuck-project.git
```

### 3. バックエンドのセットアップ

※今回バックエンドのディレクトリは「server」という名前です。

- *バックエンドディレクトリに移動*
```
cd server
```

- *必要なパッケージをインストール*
```
npm i
```

- *環境変数を設定*
.env.local ファイルを作成し、以下の環境変数を設定します。
このファイルはプロジェクトのルートに置いてください。
また、内容はご自身のDBの値に設定してください。
```
DB_USER=
DB_PASSWORD=
DB_NAME=
NODE_ENV=development
```

- *データベースをセットアップ*

データベースを作成し、必要なテーブルを作成するためのマイグレーションを実行します。
```
npm run migrate
```

サンプルデータを挿入します。
```
npm run seed
```

- *バックエンドサーバーを起動*

以下でバックエンドのサーバーを起動させます。
```
npm run dev
```

http://localhost:3000/ にアクセスし、helloが表示されていればサーバーは起動できています。

### 4. フロントエンドのセットアップ

※今回フロントエンドのディレクトリは「client」という名前です。

- *フロントエンドディレクトリに移動*
```
cd ../client
```

- *必要なパッケージをインストール*
```
npm i
```

- *フロントエンドサーバーを起動*

以下でフロントエンドのサーバーを起動させます。
```
npm run dev
```

http://localhost:5173/ にアクセスしDiary Appが表示できていれば起動できています。
日記を投稿したり、削除したり、使ってみてください！


## API定義

#### GET api/entries

- 概要
    - 過去に投稿されたすべての投稿を取得する

#### POST api/entries

- 概要
    - 新しく日記エントリーを投稿する

#### DELETE api/delete/:id

- 概要
    - 指定したidの投稿を削除する

## DB定義

- diary_entries
    - id
    - content : 日記の内容
    - created_at　：日記を投稿した年月日（timestamp）